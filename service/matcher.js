'option strict';

module.exports = {matcher:find, setAiData:setAiData, getAiData:getAiData};

learned = [{"char":"a","len":114,"llp":108,"lhp":0,"lsi":1,"lno":4,"avglp":61,"siglp":8,"avghp":26,"sighp":22,"avglp1":60,"siglp1":5,"avghp1":28,"sighp1":3,"avglp2":62,"siglp2":6,"avghp2":17,"sighp2":17,"avgpe":49,"avgpe1":51,"avgpe2":35,"origin":"pjxa","myDistance":175.3125,"distance":"9.59","confidence":13.689999999999998},{"char":"b","len":135,"llp":133,"lhp":0,"lsi":1,"lno":0,"avglp":67,"siglp":11,"avghp":11,"sighp":17,"avglp1":68,"siglp1":4,"avghp1":4,"sighp1":0,"avglp2":63,"siglp2":3,"avghp2":18,"sighp2":6,"avgpe":35,"avgpe1":23,"avgpe2":51,"origin":"bopk","myDistance":18.125,"distance":"2.61","confidence":76.51},{"char":"d","len":124,"llp":122,"lhp":0,"lsi":1,"lno":0,"avglp":54,"siglp":50,"avghp":15,"sighp":42,"avglp1":53,"siglp1":9,"avghp1":7,"sighp1":2,"avglp2":63,"siglp2":4,"avghp2":18,"sighp2":15,"avgpe":35,"avgpe1":25,"avgpe2":45,"origin":"dfkf","myDistance":3083.25,"distance":"6.28","confidence":43.48},{"char":"f","len":70,"llp":69,"lhp":0,"lsi":1,"lno":0,"avglp":67,"siglp":6,"avghp":19,"sighp":18,"avglp1":68,"siglp1":2,"avghp1":20,"sighp1":3,"avglp2":67,"siglp2":5,"avghp2":13,"sighp2":12,"avgpe":47,"avgpe1":52,"avgpe2":33,"origin":"dfkf","myDistance":30.5625,"distance":"3.54","confidence":68.14},{"char":"g","len":167,"llp":166,"lhp":0,"lsi":1,"lno":0,"avglp":58,"siglp":62,"avghp":10,"sighp":24,"avglp1":63,"siglp1":6,"avghp1":5,"sighp1":1,"avglp2":69,"siglp2":4,"avghp2":14,"sighp2":6,"avgpe":33,"avgpe1":24,"avgpe2":47,"origin":"bogs","myDistance":80.8125,"distance":"2.50","confidence":77.5},{"char":"h","len":128,"llp":124,"lhp":0,"lsi":1,"lno":2,"avglp":66,"siglp":12,"avghp":16,"sighp":12,"avglp1":71,"siglp1":3,"avghp1":11,"sighp1":3,"avglp2":64,"siglp2":6,"avghp2":17,"sighp2":8,"avgpe":41,"avgpe1":25,"avgpe2":49,"origin":"jghh","myDistance":130.875,"distance":"7.52","confidence":32.32000000000001},{"char":"i","len":92,"llp":90,"lhp":0,"lsi":1,"lno":0,"avglp":69,"siglp":4,"avghp":14,"sighp":10,"avglp1":69,"siglp1":2,"avghp1":14,"sighp1":3,"avglp2":71,"siglp2":3,"avghp2":11,"sighp2":5,"avgpe":27,"avgpe1":29,"avgpe2":25,"origin":"hizo","myDistance":0,"distance":"0.00","confidence":100},{"char":"j","len":132,"llp":128,"lhp":0,"lsi":1,"lno":2,"avglp":64,"siglp":17,"avghp":15,"sighp":15,"avglp1":58,"siglp1":8,"avghp1":12,"sighp1":4,"avglp2":67,"siglp2":4,"avghp2":16,"sighp2":10,"avgpe":31,"avgpe1":24,"avgpe2":42,"origin":"pjxa","myDistance":4236.75,"distance":"4.42","confidence":60.22},{"char":"k","len":81,"llp":78,"lhp":0,"lsi":1,"lno":1,"avglp":62,"siglp":55,"avghp":14,"sighp":10,"avglp1":58,"siglp1":49,"avghp1":12,"sighp1":6,"avglp2":69,"siglp2":12,"avghp2":11,"sighp2":5,"avgpe":43,"avgpe1":38,"avgpe2":33,"origin":"dfkf","myDistance":87.6875,"distance":"4.22","confidence":62.02},{"char":"m","len":144,"llp":143,"lhp":0,"lsi":1,"lno":0,"avglp":68,"siglp":14,"avghp":12,"sighp":18,"avglp1":72,"siglp1":3,"avghp1":7,"sighp1":2,"avglp2":63,"siglp2":12,"avghp2":18,"sighp2":10,"avgpe":39,"avgpe1":25,"avgpe2":59,"origin":"ofmg","myDistance":13.5,"distance":"3.00","confidence":73},{"char":"n","len":172,"llp":171,"lhp":0,"lsi":1,"lno":0,"avglp":70,"siglp":11,"avghp":11,"sighp":19,"avglp1":72,"siglp1":2,"avghp1":6,"sighp1":0,"avglp2":66,"siglp2":8,"avghp2":16,"sighp2":12,"avgpe":32,"avgpe1":24,"avgpe2":46,"origin":"kqxn","myDistance":11.8125,"distance":"3.44","confidence":69.03999999999999},{"char":"o","len":86,"llp":83,"lhp":0,"lsi":1,"lno":1,"avglp":72,"siglp":6,"avghp":15,"sighp":12,"avglp1":71,"siglp1":2,"avghp1":16,"sighp1":2,"avglp2":72,"siglp2":6,"avghp2":9,"sighp2":5,"avgpe":47,"avgpe1":51,"avgpe2":30,"origin":"obxs","myDistance":834,"distance":"4.50","confidence":59.5},{"char":"p","len":73,"llp":70,"lhp":0,"lsi":1,"lno":2,"avglp":64,"siglp":6,"avghp":18,"sighp":16,"avglp1":63,"siglp1":1,"avghp1":21,"sighp1":2,"avglp2":66,"siglp2":5,"avghp2":11,"sighp2":11,"avgpe":51,"avgpe1":57,"avgpe2":33,"origin":"rpms","myDistance":912.5,"distance":"0.00","confidence":100},{"char":"q","len":112,"llp":110,"lhp":0,"lsi":1,"lno":0,"avglp":62,"siglp":9,"avghp":17,"sighp":17,"avglp1":63,"siglp1":7,"avghp1":9,"sighp1":4,"avglp2":63,"siglp2":8,"avghp2":16,"sighp2":11,"avgpe":42,"avgpe1":24,"avgpe2":49,"origin":"kqxn","myDistance":34.0625,"distance":"0.00","confidence":100},{"char":"r","len":126,"llp":124,"lhp":0,"lsi":1,"lno":1,"avglp":63,"siglp":25,"avghp":15,"sighp":14,"avglp1":57,"siglp1":17,"avghp1":11,"sighp1":6,"avglp2":69,"siglp2":6,"avghp2":13,"sighp2":9,"avgpe":39,"avgpe1":34,"avgpe2":33,"origin":"zrsj","myDistance":48,"distance":"0.00","confidence":100},{"char":"s","len":150,"llp":53,"lhp":95,"lsi":1,"lno":0,"avglp":22,"siglp":65,"avghp":35,"sighp":53,"avglp1":4,"siglp1":3,"avghp1":43,"sighp1":12,"avglp2":59,"siglp2":7,"avghp2":14,"sighp2":12,"avgpe":13,"avgpe1":0,"avgpe2":45,"origin":"obxs","myDistance":1873.875,"distance":"3.05","confidence":72.55},{"char":"t","len":81,"llp":76,"lhp":0,"lsi":1,"lno":3,"avglp":67,"siglp":12,"avghp":17,"sighp":13,"avglp1":67,"siglp1":7,"avghp1":18,"sighp1":3,"avglp2":72,"siglp2":5,"avghp2":12,"sighp2":8,"avgpe":34,"avgpe1":33,"avgpe2":26,"origin":"jopt","myDistance":0,"distance":"7.34","confidence":33.94},{"char":"v","len":165,"llp":163,"lhp":0,"lsi":1,"lno":0,"avglp":55,"siglp":49,"avghp":10,"sighp":19,"avglp1":38,"siglp1":22,"avghp1":5,"sighp1":1,"avglp2":69,"siglp2":5,"avghp2":19,"sighp2":8,"avgpe":31,"avgpe1":23,"avgpe2":49,"origin":"povz","myDistance":21.5625,"distance":"0.00","confidence":100},{"char":"x","len":129,"llp":44,"lhp":81,"lsi":2,"lno":0,"avglp":21,"siglp":58,"avghp":38,"sighp":53,"avglp1":6,"siglp1":5,"avghp1":47,"sighp1":23,"avglp2":53,"siglp2":10,"avghp2":12,"sighp2":6,"avgpe":13,"avgpe1":0,"avgpe2":50,"origin":"obxs","myDistance":3483.1875,"distance":"20.55","confidence":0},{"char":"z","len":176,"llp":174,"lhp":46,"lsi":1,"lno":1,"avglp":39,"siglp":39,"avghp":34,"sighp":50,"avglp1":26,"siglp1":8,"avghp1":25,"sighp1":46,"avglp2":55,"siglp2":14,"avghp2":21,"sighp2":40,"avgpe":27,"avgpe1":24,"avgpe2":38,"origin":"zrsj","myDistance":133.8125,"distance":"0.00","confidence":100},{"char":"o","len":81,"llp":77,"lhp":0,"lsi":1,"lno":3,"avglp":63,"siglp":14,"avghp":20,"sighp":14,"avglp1":60,"siglp1":3,"avghp1":22,"sighp1":2,"avglp2":65,"siglp2":14,"avghp2":12,"sighp2":8,"avgpe":63,"avgpe1":68,"avgpe2":36,"distance":"21.49","symbol":"p"},{"char":"j","len":153,"llp":128,"lhp":0,"lsi":8,"lno":16,"avglp":62,"siglp":62,"avghp":14,"sighp":14,"avglp1":60,"siglp1":10,"avghp1":11,"sighp1":3,"avglp2":55,"siglp2":62,"avghp2":10,"sighp2":4,"avgpe":29,"avgpe1":24,"avgpe2":25,"distance":"58.29","symbol":"m"},{"char":"p","len":82,"llp":77,"lhp":0,"lsi":1,"lno":4,"avglp":67,"siglp":14,"avghp":17,"sighp":14,"avglp1":66,"siglp1":9,"avghp1":18,"sighp1":5,"avglp2":72,"siglp2":4,"avghp2":11,"sighp2":8,"avgpe":41,"avgpe1":42,"avgpe2":27,"distance":"7.34","symbol":"t"},{"char":"s","len":136,"llp":45,"lhp":79,"lsi":2,"lno":7,"avglp":21,"siglp":56,"avghp":38,"sighp":53,"avglp1":6,"siglp1":3,"avghp1":44,"sighp1":24,"avglp2":53,"siglp2":5,"avghp2":12,"sighp2":6,"avgpe":17,"avgpe1":1,"avgpe2":50,"distance":"20.55","symbol":"x"}];
learned = learned.concat([{"char":"j","len":126,"llp":124,"lhp":0,"lsi":1,"lno":0,"avglp":67,"siglp":14,"avghp":15,"sighp":12,"avglp1":72,"siglp1":3,"avghp1":11,"sighp1":2,"avglp2":65,"siglp2":8,"avghp2":17,"sighp2":9,"avgpe":40,"avgpe1":25,"avgpe2":47,"distance":"6.65","symbol":"h"},{"char":"k","len":80,"llp":79,"lhp":0,"lsi":1,"lno":0,"avglp":64,"siglp":14,"avghp":19,"sighp":19,"avglp1":60,"siglp1":7,"avghp1":22,"sighp1":1,"avglp2":66,"siglp2":13,"avghp2":10,"sighp2":11,"avgpe":64,"avgpe1":68,"avgpe2":39,"distance":"10.62","symbol":"o"},{"char":"t","len":90,"llp":83,"lhp":0,"lsi":1,"lno":6,"avglp":60,"siglp":10,"avghp":20,"sighp":29,"avglp1":59,"siglp1":7,"avghp1":26,"sighp1":9,"avglp2":61,"siglp2":5,"avghp2":7,"sighp2":4,"avgpe":47,"avgpe1":51,"avgpe2":29,"distance":"30.56","symbol":"p"},{"char":"u","len":86,"llp":83,"lhp":0,"lsi":1,"lno":1,"avglp":72,"siglp":6,"avghp":15,"sighp":12,"avglp1":71,"siglp1":2,"avghp1":16,"sighp1":3,"avglp2":73,"siglp2":6,"avghp2":10,"sighp2":5,"avgpe":47,"avgpe1":50,"avgpe2":30,"distance":"1.32","symbol":"o"},{"char":"x","len":137,"llp":43,"lhp":78,"lsi":7,"lno":6,"avglp":20,"siglp":60,"avghp":38,"sighp":56,"avglp1":6,"siglp1":3,"avghp1":41,"sighp1":28,"avglp2":54,"siglp2":6,"avghp2":12,"sighp2":5,"avgpe":13,"avgpe1":0,"avgpe2":49,"distance":"7.85","symbol":"s"},{"char":"l","len":124,"llp":123,"lhp":0,"lsi":1,"lno":0,"avglp":66,"siglp":14,"avghp":14,"sighp":14,"avglp1":66,"siglp1":4,"avghp1":10,"sighp1":6,"avglp2":66,"siglp2":13,"avghp2":15,"sighp2":13,"avgpe":45,"avgpe1":32,"avgpe2":44,"distance":"13.87","symbol":"h"}])
learned = learned.concat([{"char":"c","len":116,"llp":56,"lhp":54,"lsi":4,"lno":0,"avglp":31,"siglp":66,"avghp":27,"sighp":53,"avglp1":5,"siglp1":2,"avghp1":45,"sighp1":20,"avglp2":59,"siglp2":3,"avghp2":12,"sighp2":5,"avgpe":22,"avgpe1":0,"avgpe2":49,"distance":"49.10","symbol":"x"},{"char":"h","len":127,"llp":124,"lhp":0,"lsi":1,"lno":1,"avglp":67,"siglp":14,"avghp":15,"sighp":13,"avglp1":72,"siglp1":3,"avghp1":10,"sighp1":3,"avglp2":65,"siglp2":9,"avghp2":17,"sighp2":9,"avgpe":40,"avgpe1":25,"avgpe2":47,"distance":"3.44","symbol":"j"},{"char":"e","len":82,"llp":78,"lhp":0,"lsi":1,"lno":2,"avglp":67,"siglp":11,"avghp":17,"sighp":14,"avglp1":67,"siglp1":7,"avghp1":18,"sighp1":6,"avglp2":72,"siglp2":5,"avghp2":12,"sighp2":7,"avgpe":39,"avgpe1":39,"avgpe2":26,"distance":"5.43","symbol":"p"},{"char":"u","len":86,"llp":83,"lhp":0,"lsi":1,"lno":1,"avglp":72,"siglp":6,"avghp":15,"sighp":13,"avglp1":71,"siglp1":2,"avghp1":16,"sighp1":2,"avglp2":73,"siglp2":6,"avghp2":10,"sighp2":7,"avgpe":46,"avgpe1":51,"avgpe2":30,"distance":"1.82","symbol":"o"},{"char":"o","len":79,"llp":78,"lhp":0,"lsi":1,"lno":0,"avglp":64,"siglp":15,"avghp":21,"sighp":18,"avglp1":60,"siglp1":8,"avghp1":24,"sighp1":1,"avglp2":66,"siglp2":9,"avghp2":14,"sighp2":13,"avgpe":64,"avgpe1":67,"avgpe2":42,"distance":"6.95","symbol":"k"},{"char":"x","len":137,"llp":44,"lhp":81,"lsi":1,"lno":8,"avglp":20,"siglp":56,"avghp":39,"sighp":53,"avglp1":6,"siglp1":2,"avghp1":43,"sighp1":25,"avglp2":52,"siglp2":9,"avghp2":12,"sighp2":5,"avgpe":14,"avgpe1":0,"avgpe2":48,"distance":"5.52","symbol":"s"},{"char":"e","len":81,"llp":76,"lhp":0,"lsi":1,"lno":3,"avglp":67,"siglp":12,"avghp":17,"sighp":13,"avglp1":67,"siglp1":7,"avghp1":18,"sighp1":5,"avglp2":72,"siglp2":5,"avghp2":12,"sighp2":8,"avgpe":36,"avgpe1":35,"avgpe2":27,"distance":"2.50","symbol":"t"}]);
learned = learned.concat([{"char":"o","len":85,"llp":84,"lhp":0,"lsi":1,"lno":0,"avglp":72,"siglp":7,"avghp":14,"sighp":14,"avglp1":72,"siglp1":1,"avghp1":16,"sighp1":3,"avglp2":72,"siglp2":7,"avghp2":9,"sighp2":6,"avgpe":47,"avgpe1":51,"avgpe2":30,"distance":"4.62","symbol":"u"},{"char":"o","len":86,"llp":83,"lhp":0,"lsi":1,"lno":1,"avglp":72,"siglp":7,"avghp":15,"sighp":12,"avglp1":71,"siglp1":3,"avghp1":16,"sighp1":4,"avglp2":72,"siglp2":6,"avghp2":9,"sighp2":6,"avgpe":46,"avgpe1":51,"avgpe2":28,"distance":"2.12","symbol":"u"},{"char":"d","len":145,"llp":121,"lhp":0,"lsi":14,"lno":9,"avglp":52,"siglp":57,"avghp":15,"sighp":40,"avglp1":52,"siglp1":9,"avghp1":7,"sighp1":1,"avglp2":48,"siglp2":57,"avghp2":11,"sighp2":10,"avgpe":33,"avgpe1":24,"avgpe2":26,"distance":"41.37","symbol":"j"},{"char":"o","len":87,"llp":84,"lhp":0,"lsi":1,"lno":1,"avglp":72,"siglp":6,"avghp":14,"sighp":13,"avglp1":71,"siglp1":1,"avghp1":16,"sighp1":3,"avglp2":72,"siglp2":6,"avghp2":9,"sighp2":6,"avgpe":46,"avgpe1":50,"avgpe2":30,"distance":"3.77","symbol":"u"},{"char":"h","len":126,"llp":125,"lhp":0,"lsi":1,"lno":0,"avglp":67,"siglp":15,"avghp":16,"sighp":14,"avglp1":72,"siglp1":4,"avghp1":10,"sighp1":3,"avglp2":65,"siglp2":10,"avghp2":18,"sighp2":10,"avgpe":41,"avgpe1":25,"avgpe2":44,"distance":"4.56","symbol":"j"},{"char":"o","len":84,"llp":83,"lhp":0,"lsi":1,"lno":0,"avglp":72,"siglp":6,"avghp":14,"sighp":14,"avglp1":72,"siglp1":2,"avghp1":16,"sighp1":3,"avglp2":73,"siglp2":6,"avghp2":9,"sighp2":6,"avgpe":47,"avgpe1":52,"avgpe2":31,"distance":"5.57","symbol":"u"},{"char":"o","len":86,"llp":83,"lhp":0,"lsi":1,"lno":1,"avglp":72,"siglp":6,"avghp":14,"sighp":13,"avglp1":71,"siglp1":2,"avghp1":16,"sighp1":4,"avglp2":73,"siglp2":6,"avghp2":9,"sighp2":6,"avgpe":47,"avgpe1":51,"avgpe2":31,"distance":"3.13","symbol":"u"},{"char":"o","len":85,"llp":84,"lhp":0,"lsi":1,"lno":0,"avglp":72,"siglp":9,"avghp":15,"sighp":11,"avglp1":72,"siglp1":2,"avghp1":16,"sighp1":3,"avglp2":72,"siglp2":9,"avghp2":10,"sighp2":3,"avgpe":47,"avgpe1":52,"avgpe2":29,"distance":"4.31","symbol":"u"},{"char":"o","len":86,"llp":84,"lhp":0,"lsi":1,"lno":0,"avglp":72,"siglp":7,"avghp":14,"sighp":14,"avglp1":71,"siglp1":1,"avghp1":16,"sighp1":2,"avglp2":73,"siglp2":7,"avghp2":8,"sighp2":6,"avgpe":47,"avgpe1":50,"avgpe2":29,"distance":"4.04","symbol":"u"},{"char":"x","len":114,"llp":56,"lhp":53,"lsi":3,"lno":0,"avglp":32,"siglp":67,"avghp":27,"sighp":54,"avglp1":5,"siglp1":1,"avghp1":45,"sighp1":21,"avglp2":59,"siglp2":4,"avghp2":12,"sighp2":5,"avgpe":22,"avgpe1":0,"avgpe2":47,"distance":"4.72","symbol":"c"}]);
learned = learned.concat([{"char":"e","len":83,"llp":78,"lhp":0,"lsi":1,"lno":3,"avglp":67,"siglp":14,"avghp":17,"sighp":10,"avglp1":66,"siglp1":9,"avghp1":20,"sighp1":2,"avglp2":72,"siglp2":7,"avghp2":13,"sighp2":4,"avgpe":41,"avgpe1":42,"avgpe2":27,"distance":"7.37","symbol":"p"},{"char":"u","len":84,"llp":83,"lhp":0,"lsi":1,"lno":0,"avglp":72,"siglp":6,"avghp":15,"sighp":13,"avglp1":72,"siglp1":1,"avghp1":16,"sighp1":4,"avglp2":73,"siglp2":6,"avghp2":10,"sighp2":5,"avgpe":47,"avgpe1":52,"avgpe2":30,"distance":"3.25","symbol":"o"},{"char":"c","len":115,"llp":56,"lhp":54,"lsi":3,"lno":0,"avglp":32,"siglp":67,"avghp":27,"sighp":53,"avglp1":5,"siglp1":1,"avghp1":45,"sighp1":20,"avglp2":59,"siglp2":5,"avghp2":12,"sighp2":5,"avgpe":22,"avgpe1":0,"avgpe2":46,"distance":"2.84","symbol":"x"},{"char":"c","len":114,"llp":55,"lhp":53,"lsi":4,"lno":0,"avglp":32,"siglp":66,"avghp":27,"sighp":52,"avglp1":5,"siglp1":4,"avghp1":44,"sighp1":20,"avglp2":59,"siglp2":4,"avghp2":13,"sighp2":5,"avgpe":21,"avgpe1":1,"avgpe2":45,"distance":"4.50","symbol":"x"},{"char":"c","len":112,"llp":55,"lhp":49,"lsi":4,"lno":1,"avglp":33,"siglp":67,"avghp":27,"sighp":52,"avglp1":8,"siglp1":4,"avghp1":44,"sighp1":20,"avglp2":59,"siglp2":3,"avghp2":12,"sighp2":5,"avgpe":23,"avgpe1":1,"avgpe2":47,"distance":"8.02","symbol":"x"},{"char":"e","len":82,"llp":77,"lhp":0,"lsi":1,"lno":4,"avglp":67,"siglp":13,"avghp":16,"sighp":14,"avglp1":67,"siglp1":11,"avghp1":18,"sighp1":4,"avglp2":72,"siglp2":5,"avghp2":11,"sighp2":8,"avgpe":40,"avgpe1":43,"avgpe2":27,"distance":"3.64","symbol":"p"},{"char":"u","len":85,"llp":84,"lhp":0,"lsi":1,"lno":0,"avglp":72,"siglp":7,"avghp":14,"sighp":13,"avglp1":72,"siglp1":2,"avghp1":15,"sighp1":3,"avglp2":72,"siglp2":7,"avghp2":9,"sighp2":6,"avgpe":46,"avgpe1":51,"avgpe2":29,"distance":"2.02","symbol":"o"},{"char":"u","len":84,"llp":83,"lhp":0,"lsi":1,"lno":0,"avglp":72,"siglp":6,"avghp":15,"sighp":12,"avglp1":72,"siglp1":3,"avghp1":16,"sighp1":4,"avglp2":73,"siglp2":6,"avghp2":9,"sighp2":5,"avgpe":47,"avgpe1":52,"avgpe2":30,"distance":"3.85","symbol":"o"}]);
learned = learned.concat([{"char":"c","len":114,"llp":56,"lhp":53,"lsi":3,"lno":0,"avglp":32,"siglp":66,"avghp":27,"sighp":54,"avglp1":5,"siglp1":2,"avghp1":45,"sighp1":20,"avglp2":59,"siglp2":3,"avghp2":12,"sighp2":5,"avgpe":21,"avgpe1":0,"avgpe2":45,"distance":"1.94","symbol":"x"},{"char":"o","len":80,"llp":78,"lhp":0,"lsi":1,"lno":1,"avglp":63,"siglp":12,"avghp":19,"sighp":18,"avglp1":60,"siglp1":2,"avghp1":23,"sighp1":1,"avglp2":66,"siglp2":10,"avghp2":11,"sighp2":11,"avgpe":64,"avgpe1":68,"avgpe2":40,"distance":"6.05","symbol":"k"},{"char":"o","len":79,"llp":78,"lhp":0,"lsi":1,"lno":0,"avglp":64,"siglp":15,"avghp":19,"sighp":19,"avglp1":60,"siglp1":7,"avghp1":23,"sighp1":2,"avglp2":66,"siglp2":11,"avghp2":11,"sighp2":12,"avgpe":64,"avgpe1":67,"avgpe2":40,"distance":"3.04","symbol":"k"},{"char":"u","len":87,"llp":84,"lhp":0,"lsi":1,"lno":1,"avglp":72,"siglp":6,"avghp":14,"sighp":13,"avglp1":71,"siglp1":2,"avghp1":16,"sighp1":3,"avglp2":72,"siglp2":6,"avghp2":9,"sighp2":7,"avgpe":46,"avgpe1":52,"avgpe2":29,"distance":"1.58","symbol":"o"}]);
learned = learned.concat([{"char":"o","len":80,"llp":78,"lhp":0,"lsi":1,"lno":1,"avglp":63,"siglp":17,"avghp":19,"sighp":20,"avglp1":60,"siglp1":8,"avghp1":22,"sighp1":1,"avglp2":66,"siglp2":11,"avghp2":10,"sighp2":12,"avgpe":64,"avgpe1":67,"avgpe2":42,"distance":"3.72","symbol":"k"},{"char":"h","len":125,"llp":123,"lhp":0,"lsi":1,"lno":0,"avglp":66,"siglp":14,"avghp":16,"sighp":13,"avglp1":72,"siglp1":4,"avghp1":11,"sighp1":3,"avglp2":64,"siglp2":7,"avghp2":17,"sighp2":7,"avgpe":42,"avgpe1":24,"avgpe2":47,"distance":"4.22","symbol":"j"},{"char":"h","len":126,"llp":124,"lhp":0,"lsi":1,"lno":0,"avglp":67,"siglp":15,"avghp":15,"sighp":13,"avglp1":72,"siglp1":4,"avghp1":10,"sighp1":2,"avglp2":65,"siglp2":9,"avghp2":17,"sighp2":9,"avgpe":41,"avgpe1":25,"avgpe2":47,"distance":"2.08","symbol":"j"},{"char":"h","len":125,"llp":124,"lhp":0,"lsi":1,"lno":0,"avglp":67,"siglp":14,"avghp":16,"sighp":12,"avglp1":72,"siglp1":3,"avghp1":11,"sighp1":3,"avglp2":65,"siglp2":8,"avghp2":16,"sighp2":7,"avgpe":41,"avgpe1":25,"avgpe2":49,"distance":"3.71","symbol":"j"},{"char":"u","len":87,"llp":84,"lhp":0,"lsi":1,"lno":1,"avglp":72,"siglp":7,"avghp":15,"sighp":14,"avglp1":71,"siglp1":2,"avghp1":16,"sighp1":4,"avglp2":73,"siglp2":7,"avghp2":9,"sighp2":7,"avgpe":46,"avgpe1":50,"avgpe2":30,"distance":"3.29","symbol":"o"},{"char":"h","len":125,"llp":124,"lhp":0,"lsi":1,"lno":0,"avglp":67,"siglp":14,"avghp":16,"sighp":12,"avglp1":72,"siglp1":4,"avghp1":11,"sighp1":2,"avglp2":65,"siglp2":7,"avghp2":17,"sighp2":8,"avgpe":41,"avgpe1":25,"avgpe2":47,"distance":"3.46","symbol":"j"},{"char":"u","len":84,"llp":83,"lhp":0,"lsi":1,"lno":0,"avglp":72,"siglp":6,"avghp":14,"sighp":13,"avglp1":72,"siglp1":2,"avghp1":16,"sighp1":3,"avglp2":73,"siglp2":6,"avghp2":9,"sighp2":6,"avgpe":47,"avgpe1":52,"avgpe2":30,"distance":"1.35","symbol":"o"},{"char":"u","len":85,"llp":83,"lhp":0,"lsi":1,"lno":1,"avglp":72,"siglp":8,"avghp":14,"sighp":14,"avglp1":71,"siglp1":2,"avghp1":16,"sighp1":3,"avglp2":72,"siglp2":8,"avghp2":9,"sighp2":6,"avgpe":47,"avgpe1":52,"avgpe2":29,"distance":"2.83","symbol":"o"},{"char":"u","len":86,"llp":83,"lhp":0,"lsi":1,"lno":1,"avglp":72,"siglp":6,"avghp":14,"sighp":12,"avglp1":71,"siglp1":2,"avghp1":16,"sighp1":3,"avglp2":72,"siglp2":5,"avghp2":9,"sighp2":5,"avgpe":47,"avgpe1":51,"avgpe2":30,"distance":"1.89","symbol":"o"},{"char":"c","len":114,"llp":55,"lhp":53,"lsi":4,"lno":0,"avglp":32,"siglp":68,"avghp":27,"sighp":53,"avglp1":6,"siglp1":3,"avghp1":44,"sighp1":20,"avglp2":59,"siglp2":4,"avghp2":12,"sighp2":6,"avgpe":23,"avgpe1":0,"avgpe2":50,"distance":"3.54","symbol":"x"}]);
learned = learned.concat([{"char":"f","len":92,"llp":68,"lhp":0,"lsi":9,"lno":14,"avglp":56,"siglp":71,"avghp":18,"sighp":16,"avglp1":21,"siglp1":65,"avghp1":13,"sighp1":10,"avglp2":66,"siglp2":2,"avghp2":16,"sighp2":12,"avgpe":38,"avgpe1":7,"avgpe2":40,"distance":"58.62","symbol":"k"},{"char":"b","len":147,"llp":133,"lhp":0,"lsi":10,"lno":3,"avglp":65,"siglp":31,"avghp":12,"sighp":15,"avglp1":67,"siglp1":4,"avghp1":7,"sighp1":2,"avglp2":61,"siglp2":26,"avghp2":15,"sighp2":11,"avgpe":35,"avgpe1":23,"avgpe2":43,"distance":"20.20","symbol":"m"},{"char":"u","len":85,"llp":83,"lhp":0,"lsi":1,"lno":1,"avglp":72,"siglp":7,"avghp":15,"sighp":9,"avglp1":71,"siglp1":1,"avghp1":16,"sighp1":1,"avglp2":72,"siglp2":7,"avghp2":11,"sighp2":3,"avgpe":47,"avgpe1":52,"avgpe2":29,"distance":"4.42","symbol":"o"},{"char":"f","len":94,"llp":69,"lhp":0,"lsi":8,"lno":16,"avglp":55,"siglp":67,"avghp":18,"sighp":15,"avglp1":19,"siglp1":60,"avghp1":12,"sighp1":6,"avglp2":66,"siglp2":3,"avghp2":17,"sighp2":11,"avgpe":36,"avgpe1":5,"avgpe2":44,"distance":"61.98","symbol":"k"},{"char":"f","len":98,"llp":69,"lhp":0,"lsi":15,"lno":13,"avglp":52,"siglp":74,"avghp":18,"sighp":16,"avglp1":10,"siglp1":46,"avghp1":12,"sighp1":4,"avglp2":66,"siglp2":3,"avghp2":17,"sighp2":13,"avgpe":34,"avgpe1":0,"avgpe2":41,"distance":"69.62","symbol":"k"},{"char":"l","len":126,"llp":122,"lhp":0,"lsi":1,"lno":2,"avglp":65,"siglp":13,"avghp":15,"sighp":12,"avglp1":66,"siglp1":1,"avghp1":11,"sighp1":3,"avglp2":66,"siglp2":10,"avghp2":17,"sighp2":10,"avgpe":43,"avgpe1":28,"avgpe2":45,"distance":"7.88","symbol":"h"},{"char":"f","len":86,"llp":69,"lhp":0,"lsi":12,"lno":4,"avglp":60,"siglp":73,"avghp":17,"sighp":18,"avglp1":39,"siglp1":72,"avghp1":11,"sighp1":14,"avglp2":67,"siglp2":3,"avghp2":15,"sighp2":13,"avgpe":40,"avgpe1":14,"avgpe2":41,"distance":"40.17","symbol":"k"}]);
//"

function findInterval(interval, _debugi, _debug)
{
  var best = 0, bestdistance = -1;

  for (var i in learned)
  {
    var d = distance(learned[i], interval);
    if ( bestdistance == -1 || d < bestdistance )
    {
      best = i;
      bestdistance = d;
    }
  }

  interval.distance = Math.sqrt(bestdistance).toFixed(2);
  interval.symbol = learned[best].char;

  if (_debug)
  {
    _debug.matchedIntervals[_debugi] = learned[best];
    _debug.matchedIntervals[_debugi].distance = interval.distance;
    _debug.matchedIntervals[_debugi].confidence = Math.floor(Math.max(0, 100 - interval.distance*9)); // 0 -> 100%, 	5 -> 50% 10 -> 10% interval.distance;
  }

  return interval;
}

function find(intervals, _debug)
{
  if ( _debug )
    _debug.matchedIntervals = new Array(intervals.length);

  var q = "";
  for ( var i in intervals )
  {
    q += findInterval(intervals[i], i, _debug).symbol;
  }
  return q;
}

function distance(rec1, rec2)
{
  // cost function - euclidean distance
  var diffLen = (rec1.len - rec2.len)*2;
  var diffLlp = (rec1.llp - rec2.llp);
  var diffLhp = (rec1.lhp - rec2.lhp);
  var diffLsi = (rec1.lsi - rec2.lsi);
  var diffLno = (rec1.lno - rec2.lno)*2;

  var diffPeAvg = (rec1.avgpe - rec2.avgpe)*0.5;
  var diffPeAvg1 = (rec1.avgpe1 - rec2.avgpe1)*0.5;
  var diffPeAvg2 = (rec1.avgpe2 - rec2.avgpe2)*0.5;

  var diffLpAvg = (rec1.avglp - rec2.avglp)*0.5;
  var diffLpSig = (rec1.siglp - rec2.siglp)*0.5;
  var diffHpAvg = (rec1.avghp - rec2.avghp)*0.5*5;
  var diffHpSig = (rec1.sighp - rec2.sighp)*0.5*5/2;

  var diffLpAvg1 = (rec1.avglp1 - rec2.avglp1)*0.5*2;
  var diffLpSig1 = (rec1.siglp1 - rec2.siglp1)*0.5*2;
  var diffHpAvg1 = (rec1.avghp1 - rec2.avghp1)*0.5*2;
  var diffHpSig1 = (rec1.sighp1 - rec2.sighp1)*0.5*2;

  var diffLpAvg2 = (rec1.avglp2 - rec2.avglp2)*0.5;
  var diffLpSig2 = (rec1.siglp2 - rec2.siglp2)*0.5;
  var diffHpAvg2 = (rec1.avghp2 - rec2.avghp2)*0.5;
  var diffHpSig2 = (rec1.sighp2 - rec2.sighp2)*0.5;

  return diffLen*diffLen + diffLlp*diffLlp + diffLhp*diffLhp + diffLno*diffLno +
    diffLpAvg*diffLpAvg + diffLpSig*diffLpSig + diffHpAvg*diffHpAvg + diffHpSig*diffHpSig +
    diffLpAvg1*diffLpAvg1 + diffLpSig1*diffLpSig1 + diffHpAvg1*diffHpAvg1 + diffHpSig1*diffHpSig1 +
    diffLpAvg2*diffLpAvg2 + diffLpSig2*diffLpSig2 + diffHpAvg2*diffHpAvg2 + diffHpSig2*diffHpSig2 +
    diffPeAvg*diffPeAvg + diffPeAvg1*diffPeAvg1 + diffPeAvg2*diffPeAvg2;
}

function setAiData(l)
{
  learned = l;
}

function getAiData()
{
  return learned;
}
